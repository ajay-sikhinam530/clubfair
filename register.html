<!DOCTYPE html>
<html>
<title>Registration form</title>
<head>
    <link rel="stylesheet" href="register.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <style></style>
</head>

<body>
    <div class="container">

        <h1>Registration Form</h1>
        <form method="post">

            <div class="txt-field">
                <input type="text" id="firstname" required>
                <span></span>
                <label>Firstname</label>
            </div>

            <div class="txt-field">
                <input type="text" id="lastname" required>
                <span></span>
                <label>Lastname</label>
            </div>

            <div class="txt-field">
                <input type="text" id="phonenumber" required>
                <span></span>
                <label>Mobile Number</label>
            </div>

            <div class="txt-field">
                <input type="text" id="email" required>
                <span></span>
                <label>Email</label>
            </div>

            <div class="txt-field">
                <input type="password" id="password" required>
                <span></span>
                <label>Password</label>
            </div>

            <div class="txt-field">
                <input type="password" id="confirm_password" required>
                <span></span>
                <label>Confirm Password</label>
            </div>
        </form>

        <div>
            <button id="registerBtn" type="submit">Register</button>
            
        </div>
        <br>
        <a href="login.html">Login here</a>
    </div>
    <div class="loadingScreen hideElement">


    </div>
    
    <script>
        $("#registerBtn").click(function () {
            $(".loadingScreen").removeClass("hideElement");
            
            console.log("Register pressed");
            if ($("#password").val() == $("#confirm_password").val()) {
                console.log("Calling register api");
                $.ajax({
                    type: "POST",
                    url: "Api/registerApi.php",
                    data: {
                        firstname: $("#firstname").val(),
                        lastname: $("#lastname").val(),
                        phonenumber: $("#phonenumber").val(),
                        email: $("#email").val(),
                        password: $("#password").val(),
                    },
                    success: function (result, status, xhr) {
                        // result=JSON.parse(result);
                        $(".loadingScreen").addClass("hideElement");
                        alert(result);
                    },
                });
            }
            else {
                alert("Password mismatch.");
            }
        })
    </script>

</body>




</html>